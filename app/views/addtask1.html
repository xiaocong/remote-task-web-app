
<form class="form-horizontal" class="css-form" novalidation>
  <h3>Create new task</h3>

    <fieldset>
      <legend>Task Info</legend>
    <div class="control-group">
      <label class="control-label">Name</label>
      <div class="controls">
        <input name='name' placeholder='Task Name' ng-model="newTaskForm.name" required>
      </div>
    </div>

    <div class="control-group">
      <label class="control-label">Description</label>
      <div class="controls">
        <input name='description' placeholder='Task Description' ng-model="newTaskForm.description" required>
      </div>
    </div>

    <div class="control-group">
      <label class="control-label">Repo</label>
      <div class="controls">
        <input name='repo_url' placeholder='Repo URL' ng-model="newTaskForm.repo_url" required>
      </div>
    </div>
</fieldset>

    <hr>

  <fieldset ng-repeat="job in newTaskForm.jobs">
    <legend>Job Info - {{job.no}}
      <button class="btn btn-mini btn-danger" ng-click="deleteJob(job.no)">Remove</button>
    </legend>
    <input name="no" type="hidden" ng-model="job.no">

    <div class="control-group">
      <label class="control-label">Device</label>
      <div class="controls">
        <select ng-model="job._the_device" ng-options="d.id for d in devices">
          <option value="">Any</option>
        </select>
      </div>
    </div>

    <div class="control-group">
      <label class="control-label">Product Filter</label>
      <div class="controls">
        <select ng-model="job.product.manufacturer" ng-options="i for i in manufacturers">
          <option value=""></option>
        </select>
        <span>&nbsp;(* Choose a manufacture)</span>
      </div>
      <div class="controls">
        <select ng-model="job.product.model" ng-options="i for i in models">
          <option value=""></option>
        </select>
        <span>&nbsp;(* Choose a model)</span>
      </div>
    </div>

    <div class="control-group">
      <label class="control-label">Test Type</label>
      <div class="controls">
        <select ng-model="job.r_type">
          <option value="none">None</option>
          <option value="exclusive">Exclusive</option>
          <option value="dependent">Dependent</option>
        </select>
      </div>
    </div>

  </fieldset>

  <hr>
    <div class="control-group">
      <div class="controls">
        <input type='button' name='add_job' value='Add Job' class='btn btn-info' ng-click="newJob()" >
        <input type='submit' name='submit' value='Create Task' class='btn btn-primary' ng-click="submitTask()" ng-disabled="newTaskForm.$invalid">
      </div>
  </div>

</form>